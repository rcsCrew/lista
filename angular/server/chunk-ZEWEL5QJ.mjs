import './polyfills.server.mjs';
import{$ as Ee,A as K,B as ut,C as p,D as d,E as pe,F as dt,G as F,H as ft,I as m,J as G,K as Be,L as J,M as X,N as Y,O as me,P as re,Q as Ge,R as Le,T as pt,Y as mt,_ as gt,a as st,aa as Q,b as rt,ba as Ue,c as nt,ca as We,d as at,e as je,ea as _t,f as se,fa as Ae,g as R,ga as vt,h as P,ha as Ze,i as ot,ia as yt,j as w,ja as Ct,k as j,ka as kt,l as $,la as St,m as B,ma as Mt,n as lt,na as bt,o as xe,p as ht,q as ct,qa as xt,r as De,s as z,t as ce,u as C,ua as Dt,v as S,w as ue,x as we,xa as qe,y as de,z as fe}from"./chunk-7A3EL3X4.mjs";import{a as v,b,d as tt,h as it}from"./chunk-5XUXGTUW.mjs";var Ve=(()=>{class s{http;apiUrl="http://localhost:8080/api";constructor(n){this.http=n}savePassageiro(n){return this.http.post(`${this.apiUrl}/passageiros`,n)}getPassageiros(){return this.http.get(`${this.apiUrl}/passageiros`)}deletePassageiro(n){return this.http.delete(`${this.apiUrl}/passageiros/${n}`)}static \u0275fac=function(e){return new(e||s)(ot(yt))};static \u0275prov=se({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();var Ot=(()=>{let i=class i{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,t){this._renderer.setProperty(this._elementRef.nativeElement,e,t)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}};i.\u0275fac=function(t){return new(t||i)(S(ue),S(ce))},i.\u0275dir=B({type:i});let s=i;return s})(),hi=(()=>{let i=class i extends Ot{};i.\u0275fac=(()=>{let e;return function(r){return(e||(e=De(i)))(r||i)}})(),i.\u0275dir=B({type:i,features:[de]});let s=i;return s})(),Oe=new P("");var ci={provide:Oe,useExisting:je(()=>L),multi:!0};function ui(){let s=Ue()?Ue().getUserAgent():"";return/android (\d+)/.test(s.toLowerCase())}var di=new P(""),L=(()=>{let i=class i extends Ot{constructor(e,t,r){super(e,t),this._compositionMode=r,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!ui())}writeValue(e){let t=e??"";this.setProperty("value",t)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}};i.\u0275fac=function(t){return new(t||i)(S(ue),S(ce),S(di,8))},i.\u0275dir=B({type:i,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){t&1&&F("input",function(l){return r._handleInput(l.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(l){return r._compositionEnd(l.target.value)})},features:[me([ci]),de]});let s=i;return s})();var Ye=new P(""),fi=new P("");function Tt(s){return s!=null}function Rt(s){return pt(s)?rt(s):s}function $t(s){let i={};return s.forEach(n=>{i=n!=null?v(v({},i),n):i}),Object.keys(i).length===0?null:i}function Ht(s,i){return i.map(n=>n(s))}function pi(s){return!s.validate}function jt(s){return s.map(i=>pi(i)?i:n=>i.validate(n))}function mi(s){if(!s)return null;let i=s.filter(Tt);return i.length==0?null:function(n){return $t(Ht(n,i))}}function Bt(s){return s!=null?mi(jt(s)):null}function gi(s){if(!s)return null;let i=s.filter(Tt);return i.length==0?null:function(n){let e=Ht(n,i).map(Rt);return at(e).pipe(nt($t))}}function Gt(s){return s!=null?gi(jt(s)):null}function Et(s,i){return s===null?[i]:Array.isArray(s)?[...s,i]:[s,i]}function _i(s){return s._rawValidators}function vi(s){return s._rawAsyncValidators}function ze(s){return s?Array.isArray(s)?s:[s]:[]}function Ie(s,i){return Array.isArray(s)?s.includes(i):s===i}function At(s,i){let n=ze(i);return ze(s).forEach(t=>{Ie(n,t)||n.push(t)}),n}function Vt(s,i){return ze(i).filter(n=>!Ie(s,n))}var Ne=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(i){this._rawValidators=i||[],this._composedValidatorFn=Bt(this._rawValidators)}_setAsyncValidators(i){this._rawAsyncValidators=i||[],this._composedAsyncValidatorFn=Gt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(i){this._onDestroyCallbacks.push(i)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(i=>i()),this._onDestroyCallbacks=[]}reset(i=void 0){this.control&&this.control.reset(i)}hasError(i,n){return this.control?this.control.hasError(i,n):!1}getError(i,n){return this.control?this.control.getError(i,n):null}},Ke=class extends Ne{get formDirective(){return null}get path(){return null}},Ce=class extends Ne{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Je=class{constructor(i){this._cd=i}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},yi={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},ps=b(v({},yi),{"[class.ng-submitted]":"isSubmitted"}),le=(()=>{let i=class i extends Je{constructor(e){super(e)}};i.\u0275fac=function(t){return new(t||i)(S(Ce,2))},i.\u0275dir=B({type:i,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){t&2&&ut("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[de]});let s=i;return s})();var ge="VALID",Fe="INVALID",ne="PENDING",_e="DISABLED",oe=class{},Pe=class extends oe{constructor(i,n){super(),this.value=i,this.source=n}},ve=class extends oe{constructor(i,n){super(),this.pristine=i,this.source=n}},ye=class extends oe{constructor(i,n){super(),this.touched=i,this.source=n}},ae=class extends oe{constructor(i,n){super(),this.status=i,this.source=n}};function Ci(s){return(Te(s)?s.validators:s)||null}function ki(s){return Array.isArray(s)?Bt(s):s||null}function Si(s,i){return(Te(i)?i.asyncValidators:s)||null}function Mi(s){return Array.isArray(s)?Gt(s):s||null}function Te(s){return s!=null&&!Array.isArray(s)&&typeof s=="object"}var Xe=class{constructor(i,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=Ee(()=>this.statusReactive()),this.statusReactive=we(void 0),this._pristine=Ee(()=>this.pristineReactive()),this.pristineReactive=we(!0),this._touched=Ee(()=>this.touchedReactive()),this.touchedReactive=we(!1),this._events=new st,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(i),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(i){this._rawValidators=this._composedValidatorFn=i}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(i){this._rawAsyncValidators=this._composedAsyncValidatorFn=i}get parent(){return this._parent}get status(){return Q(this.statusReactive)}set status(i){Q(()=>this.statusReactive.set(i))}get valid(){return this.status===ge}get invalid(){return this.status===Fe}get pending(){return this.status==ne}get disabled(){return this.status===_e}get enabled(){return this.status!==_e}get pristine(){return Q(this.pristineReactive)}set pristine(i){Q(()=>this.pristineReactive.set(i))}get dirty(){return!this.pristine}get touched(){return Q(this.touchedReactive)}set touched(i){Q(()=>this.touchedReactive.set(i))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(i){this._assignValidators(i)}setAsyncValidators(i){this._assignAsyncValidators(i)}addValidators(i){this.setValidators(At(i,this._rawValidators))}addAsyncValidators(i){this.setAsyncValidators(At(i,this._rawAsyncValidators))}removeValidators(i){this.setValidators(Vt(i,this._rawValidators))}removeAsyncValidators(i){this.setAsyncValidators(Vt(i,this._rawAsyncValidators))}hasValidator(i){return Ie(this._rawValidators,i)}hasAsyncValidator(i){return Ie(this._rawAsyncValidators,i)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(i={}){let n=this.touched===!1;this.touched=!0;let e=i.sourceControl??this;this._parent&&!i.onlySelf&&this._parent.markAsTouched(b(v({},i),{sourceControl:e})),n&&i.emitEvent!==!1&&this._events.next(new ye(!0,e))}markAllAsTouched(i={}){this.markAsTouched({onlySelf:!0,emitEvent:i.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(i))}markAsUntouched(i={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let e=i.sourceControl??this;this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0,emitEvent:i.emitEvent,sourceControl:e})}),this._parent&&!i.onlySelf&&this._parent._updateTouched(i,e),n&&i.emitEvent!==!1&&this._events.next(new ye(!1,e))}markAsDirty(i={}){let n=this.pristine===!0;this.pristine=!1;let e=i.sourceControl??this;this._parent&&!i.onlySelf&&this._parent.markAsDirty(b(v({},i),{sourceControl:e})),n&&i.emitEvent!==!1&&this._events.next(new ve(!1,e))}markAsPristine(i={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let e=i.sourceControl??this;this._forEachChild(t=>{t.markAsPristine({onlySelf:!0,emitEvent:i.emitEvent})}),this._parent&&!i.onlySelf&&this._parent._updatePristine(i,e),n&&i.emitEvent!==!1&&this._events.next(new ve(!0,e))}markAsPending(i={}){this.status=ne;let n=i.sourceControl??this;i.emitEvent!==!1&&(this._events.next(new ae(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!i.onlySelf&&this._parent.markAsPending(b(v({},i),{sourceControl:n}))}disable(i={}){let n=this._parentMarkedDirty(i.onlySelf);this.status=_e,this.errors=null,this._forEachChild(t=>{t.disable(b(v({},i),{onlySelf:!0}))}),this._updateValue();let e=i.sourceControl??this;i.emitEvent!==!1&&(this._events.next(new Pe(this.value,e)),this._events.next(new ae(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(b(v({},i),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(t=>t(!0))}enable(i={}){let n=this._parentMarkedDirty(i.onlySelf);this.status=ge,this._forEachChild(e=>{e.enable(b(v({},i),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:i.emitEvent}),this._updateAncestors(b(v({},i),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(e=>e(!1))}_updateAncestors(i,n){this._parent&&!i.onlySelf&&(this._parent.updateValueAndValidity(i),i.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(i){this._parent=i}getRawValue(){return this.value}updateValueAndValidity(i={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let e=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ge||this.status===ne)&&this._runAsyncValidator(e,i.emitEvent)}let n=i.sourceControl??this;i.emitEvent!==!1&&(this._events.next(new Pe(this.value,n)),this._events.next(new ae(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!i.onlySelf&&this._parent.updateValueAndValidity(b(v({},i),{sourceControl:n}))}_updateTreeValidity(i={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(i)),this.updateValueAndValidity({onlySelf:!0,emitEvent:i.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?_e:ge}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(i,n){if(this.asyncValidator){this.status=ne,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let e=Rt(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(t=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(t,{emitEvent:n,shouldHaveEmitted:i})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let i=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,i}return!1}setErrors(i,n={}){this.errors=i,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(i){let n=i;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((e,t)=>e&&e._find(t),this)}getError(i,n){let e=n?this.get(n):this;return e&&e.errors?e.errors[i]:null}hasError(i,n){return!!this.getError(i,n)}get root(){let i=this;for(;i._parent;)i=i._parent;return i}_updateControlsErrors(i,n,e){this.status=this._calculateStatus(),i&&this.statusChanges.emit(this.status),(i||e)&&this._events.next(new ae(this.status,n)),this._parent&&this._parent._updateControlsErrors(i,n,e)}_initObservables(){this.valueChanges=new z,this.statusChanges=new z}_calculateStatus(){return this._allControlsDisabled()?_e:this.errors?Fe:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ne)?ne:this._anyControlsHaveStatus(Fe)?Fe:ge}_anyControlsHaveStatus(i){return this._anyControls(n=>n.status===i)}_anyControlsDirty(){return this._anyControls(i=>i.dirty)}_anyControlsTouched(){return this._anyControls(i=>i.touched)}_updatePristine(i,n){let e=!this._anyControlsDirty(),t=this.pristine!==e;this.pristine=e,this._parent&&!i.onlySelf&&this._parent._updatePristine(i,n),t&&this._events.next(new ve(this.pristine,n))}_updateTouched(i={},n){this.touched=this._anyControlsTouched(),this._events.next(new ye(this.touched,n)),this._parent&&!i.onlySelf&&this._parent._updateTouched(i,n)}_registerOnCollectionChange(i){this._onCollectionChange=i}_setUpdateStrategy(i){Te(i)&&i.updateOn!=null&&(this._updateOn=i.updateOn)}_parentMarkedDirty(i){let n=this._parent&&this._parent.dirty;return!i&&!!n&&!this._parent._anyControlsDirty()}_find(i){return null}_assignValidators(i){this._rawValidators=Array.isArray(i)?i.slice():i,this._composedValidatorFn=ki(this._rawValidators)}_assignAsyncValidators(i){this._rawAsyncValidators=Array.isArray(i)?i.slice():i,this._composedAsyncValidatorFn=Mi(this._rawAsyncValidators)}};var Lt=new P("CallSetDisabledState",{providedIn:"root",factory:()=>Qe}),Qe="always";function bi(s,i){return[...i.path,s]}function xi(s,i,n=Qe){wi(s,i),i.valueAccessor.writeValue(s.value),(s.disabled||n==="always")&&i.valueAccessor.setDisabledState?.(s.disabled),Ei(s,i),Vi(s,i),Ai(s,i),Di(s,i)}function Ft(s,i){s.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(i)})}function Di(s,i){if(i.valueAccessor.setDisabledState){let n=e=>{i.valueAccessor.setDisabledState(e)};s.registerOnDisabledChange(n),i._registerOnDestroy(()=>{s._unregisterOnDisabledChange(n)})}}function wi(s,i){let n=_i(s);i.validator!==null?s.setValidators(Et(n,i.validator)):typeof n=="function"&&s.setValidators([n]);let e=vi(s);i.asyncValidator!==null?s.setAsyncValidators(Et(e,i.asyncValidator)):typeof e=="function"&&s.setAsyncValidators([e]);let t=()=>s.updateValueAndValidity();Ft(i._rawValidators,t),Ft(i._rawAsyncValidators,t)}function Ei(s,i){i.valueAccessor.registerOnChange(n=>{s._pendingValue=n,s._pendingChange=!0,s._pendingDirty=!0,s.updateOn==="change"&&Ut(s,i)})}function Ai(s,i){i.valueAccessor.registerOnTouched(()=>{s._pendingTouched=!0,s.updateOn==="blur"&&s._pendingChange&&Ut(s,i),s.updateOn!=="submit"&&s.markAsTouched()})}function Ut(s,i){s._pendingDirty&&s.markAsDirty(),s.setValue(s._pendingValue,{emitModelToViewChange:!1}),i.viewToModelUpdate(s._pendingValue),s._pendingChange=!1}function Vi(s,i){let n=(e,t)=>{i.valueAccessor.writeValue(e),t&&i.viewToModelUpdate(e)};s.registerOnChange(n),i._registerOnDestroy(()=>{s._unregisterOnChange(n)})}function Fi(s,i){if(!s.hasOwnProperty("model"))return!1;let n=s.model;return n.isFirstChange()?!0:!Object.is(i,n.currentValue)}function Ii(s){return Object.getPrototypeOf(s.constructor)===hi}function Ni(s,i){if(!i)return null;Array.isArray(i);let n,e,t;return i.forEach(r=>{r.constructor===L?n=r:Ii(r)?e=r:t=r}),t||e||n||null}function It(s,i){let n=s.indexOf(i);n>-1&&s.splice(n,1)}function Nt(s){return typeof s=="object"&&s!==null&&Object.keys(s).length===2&&"value"in s&&"disabled"in s}var Pi=class extends Xe{constructor(i=null,n,e){super(Ci(n),Si(e,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(i),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Te(n)&&(n.nonNullable||n.initialValueIsDefault)&&(Nt(i)?this.defaultValue=i.value:this.defaultValue=i)}setValue(i,n={}){this.value=this._pendingValue=i,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(e=>e(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(i,n={}){this.setValue(i,n)}reset(i=this.defaultValue,n={}){this._applyFormState(i),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(i){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(i){this._onChange.push(i)}_unregisterOnChange(i){It(this._onChange,i)}registerOnDisabledChange(i){this._onDisabledChange.push(i)}_unregisterOnDisabledChange(i){It(this._onDisabledChange,i)}_forEachChild(i){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(i){Nt(i)?(this.value=this._pendingValue=i.value,i.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=i}};var Oi={provide:Ce,useExisting:je(()=>ee)},Pt=Promise.resolve(),ee=(()=>{let i=class i extends Ce{constructor(e,t,r,a,l,f){super(),this._changeDetectorRef=l,this.callSetDisabledState=f,this.control=new Pi,this._registered=!1,this.name="",this.update=new z,this._parent=e,this._setValidators(t),this._setAsyncValidators(r),this.valueAccessor=Ni(this,a)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){let t=e.name.previousValue;this.formDirective.removeControl({name:t,path:this._getPath(t)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),Fi(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){xi(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(e){Pt.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){let t=e.isDisabled.currentValue,r=t!==0&&gt(t);Pt.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?bi(e,this._parent):[e]}};i.\u0275fac=function(t){return new(t||i)(S(Ke,9),S(Ye,10),S(fi,10),S(Oe,10),S(mt,8),S(Lt,8))},i.\u0275dir=B({type:i,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[me([Oi]),de,xe]});let s=i;return s})();var Ti=(()=>{let i=class i{};i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=$({type:i}),i.\u0275inj=R({});let s=i;return s})();var Wt=(()=>{let i=class i{static withConfig(e){return{ngModule:i,providers:[{provide:Lt,useValue:e.callSetDisabledState??Qe}]}}};i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=$({type:i}),i.\u0275inj=R({imports:[Ti]});let s=i;return s})();var ke=new P("ngx-mask config"),Zt=new P("new ngx-mask config"),qt=new P("initial ngx-mask config"),Ri={suffix:"",prefix:"",thousandSeparator:" ",decimalMarker:[".",","],clearIfNotMatch:!1,showTemplate:!1,showMaskTyped:!1,placeHolderCharacter:"_",dropSpecialCharacters:!0,hiddenInput:void 0,shownMaskExpression:"",separatorLimit:"",allowNegativeNumbers:!1,validation:!0,specialCharacters:["-","/","(",")",".",":"," ","+",",","@","[","]",'"',"'"],leadZeroDateTime:!1,apm:!1,leadZero:!1,keepCharacterPositions:!1,triggerOnMaskChange:!1,inputTransformFn:s=>s,outputTransformFn:s=>s,maskFilled:new z,patterns:{0:{pattern:new RegExp("\\d")},9:{pattern:new RegExp("\\d"),optional:!0},X:{pattern:new RegExp("\\d"),symbol:"*"},A:{pattern:new RegExp("[a-zA-Z0-9]")},S:{pattern:new RegExp("[a-zA-Z]")},U:{pattern:new RegExp("[A-Z]")},L:{pattern:new RegExp("[a-z]")},d:{pattern:new RegExp("\\d")},m:{pattern:new RegExp("\\d")},M:{pattern:new RegExp("\\d")},H:{pattern:new RegExp("\\d")},h:{pattern:new RegExp("\\d")},s:{pattern:new RegExp("\\d")}}},$i=["Hh:m0:s0","Hh:m0","m0:s0"],Hi=["percent","Hh","s0","m0","separator","d0/M0/0000","d0/M0","d0","M0"],ji=(()=>{let i=class i{constructor(){this._config=w(ke),this.dropSpecialCharacters=this._config.dropSpecialCharacters,this.hiddenInput=this._config.hiddenInput,this.clearIfNotMatch=this._config.clearIfNotMatch,this.specialCharacters=this._config.specialCharacters,this.patterns=this._config.patterns,this.prefix=this._config.prefix,this.suffix=this._config.suffix,this.thousandSeparator=this._config.thousandSeparator,this.decimalMarker=this._config.decimalMarker,this.showMaskTyped=this._config.showMaskTyped,this.placeHolderCharacter=this._config.placeHolderCharacter,this.validation=this._config.validation,this.separatorLimit=this._config.separatorLimit,this.allowNegativeNumbers=this._config.allowNegativeNumbers,this.leadZeroDateTime=this._config.leadZeroDateTime,this.leadZero=this._config.leadZero,this.apm=this._config.apm,this.inputTransformFn=this._config.inputTransformFn,this.outputTransformFn=this._config.outputTransformFn,this.keepCharacterPositions=this._config.keepCharacterPositions,this._shift=new Set,this.plusOnePosition=!1,this.maskExpression="",this.actualValue="",this.showKeepCharacterExp="",this.shownMaskExpression="",this.deletedSpecialCharacter=!1,this._formatWithSeparators=(e,t,r,a)=>{let l=[],f="";if(Array.isArray(r)){let k=new RegExp(r.map(_=>"[\\^$.|?*+()".indexOf(_)>=0?`\\${_}`:_).join("|"));l=e.split(k),f=e.match(k)?.[0]??""}else l=e.split(r),f=r;let o=l.length>1?`${f}${l[1]}`:"",h=l[0]??"",c=this.separatorLimit.replace(/\s/g,"");c&&+c&&(h[0]==="-"?h=`-${h.slice(1,h.length).slice(0,c.length)}`:h=h.slice(0,c.length));let x=/(\d+)(\d{3})/;for(;t&&x.test(h);)h=h.replace(x,"$1"+t+"$2");return a===void 0?h+o:a===0?h:h+o.substring(0,a+1)},this.percentage=e=>{let t=e.replace(",","."),r=Number(this.allowNegativeNumbers&&e.includes("-")?t.slice(1,e.length):t);return!isNaN(r)&&r>=0&&r<=100},this.getPrecision=e=>{let t=e.split(".");return t.length>1?Number(t[t.length-1]):1/0},this.checkAndRemoveSuffix=e=>{for(let t=this.suffix?.length-1;t>=0;t--){let r=this.suffix.substring(t,this.suffix?.length);if(e.includes(r)&&t!==this.suffix?.length-1&&(t-1<0||!e.includes(this.suffix.substring(t-1,this.suffix?.length))))return e.replace(r,"")}return e},this.checkInputPrecision=(e,t,r)=>{if(t<1/0){if(Array.isArray(r)){let o=r.find(h=>h!==this.thousandSeparator);r=o||r[0]}let a=new RegExp(this._charToRegExpExpression(r)+`\\d{${t}}.*$`),l=e.match(a),f=(l&&l[0]?.length)??0;if(f-1>t){let o=f-1-t;e=e.substring(0,e.length-o)}t===0&&this._compareOrIncludes(e[e.length-1],r,this.thousandSeparator)&&(e=e.substring(0,e.length-1))}return e}}applyMaskWithPattern(e,t){let[r,a]=t;return this.customPattern=a,this.applyMask(e,r)}applyMask(e,t,r=0,a=!1,l=!1,f=()=>{}){if(!t||typeof e!="string")return"";let o=0,h="",c=!1,x=!1,k=1,_=!1;e.slice(0,this.prefix.length)===this.prefix&&(e=e.slice(this.prefix.length,e.length)),this.suffix&&e?.length>0&&(e=this.checkAndRemoveSuffix(e)),e==="("&&this.prefix&&(e="");let y=e.toString().split("");if(this.allowNegativeNumbers&&e.slice(o,o+1)==="-"&&(h+=e.slice(o,o+1)),t==="IP"){let g=e.split(".");this.ipError=this._validIP(g),t="099.099.099.099"}let A=[];for(let g=0;g<e.length;g++)e[g]?.match("\\d")&&A.push(e[g]??"");if(t==="CPF_CNPJ"&&(this.cpfCnpjError=A.length!==11&&A.length!==14,A.length>11?t="00.000.000/0000-00":t="000.000.000-00"),t.startsWith("percent")){if(e.match("[a-z]|[A-Z]")||e.match(/[-!$%^&*()_+|~=`{}\[\]:";'<>?,\/.]/)&&!l){e=this._stripToDecimal(e);let E=this.getPrecision(t);e=this.checkInputPrecision(e,E,this.decimalMarker)}let g=typeof this.decimalMarker=="string"?this.decimalMarker:".";if(e.indexOf(g)>0&&!this.percentage(e.substring(0,e.indexOf(g)))){let E=e.substring(0,e.indexOf(g)-1);this.allowNegativeNumbers&&e.slice(o,o+1)==="-"&&!l&&(E=e.substring(0,e.indexOf(g))),e=`${E}${e.substring(e.indexOf(g),e.length)}`}let u="";this.allowNegativeNumbers&&e.slice(o,o+1)==="-"?u=`-${e.slice(o+1,o+e.length)}`:u=e,this.percentage(u)?h=this._splitPercentZero(e):h=this._splitPercentZero(e.substring(0,e.length-1))}else if(t.startsWith("separator")){(e.match("[w\u0430-\u044F\u0410-\u042F]")||e.match("[\u0401\u0451\u0410-\u044F]")||e.match("[a-z]|[A-Z]")||e.match(/[-@#!$%\\^&*()_£¬'+|~=`{}\]:";<>.?/]/)||e.match("[^A-Za-z0-9,]"))&&(e=this._stripToDecimal(e));let g=this.getPrecision(t),u=Array.isArray(this.decimalMarker)?".":this.decimalMarker;if(g===0?e=this.allowNegativeNumbers?e.length>2&&e[0]==="-"&&e[1]==="0"&&e[2]!==this.thousandSeparator&&e[2]!==","&&e[2]!=="."?"-"+e.slice(2,e.length):e[0]==="0"&&e.length>1&&e[1]!==this.thousandSeparator&&e[1]!==","&&e[1]!=="."?e.slice(1,e.length):e:e.length>1&&e[0]==="0"&&e[1]!==this.thousandSeparator&&e[1]!==","&&e[1]!=="."?e.slice(1,e.length):e:(e[0]===u&&e.length>1&&(e="0"+e.slice(0,e.length+1),this.plusOnePosition=!0),e[0]==="0"&&e[1]!==u&&e[1]!==this.thousandSeparator&&(e=e.length>1?e.slice(0,1)+u+e.slice(1,e.length+1):e,this.plusOnePosition=!0),this.allowNegativeNumbers&&e[0]==="-"&&(e[1]===u||e[1]==="0")&&(e=e[1]===u&&e.length>2?e.slice(0,1)+"0"+e.slice(1,e.length):e[1]==="0"&&e.length>2&&e[2]!==u?e.slice(0,2)+u+e.slice(2,e.length):e,this.plusOnePosition=!0)),l){let D=e.slice(this._findFirstNonZeroDigitIndex(e),e.length),N=e[r]==="0"||e[r]===u,q=e[0]==="0",T=e[0]==="-",Me=e[0]===this.thousandSeparator,be=e[1]===u,ie=e[1]==="0",He=e[2]===u;q&&be&&N&&r<2&&(e=D),T&&ie&&He&&N&&r<3&&(e="-"+D),D!=="-"&&(r===0&&(q||Me)||this.allowNegativeNumbers&&r===1&&T&&!ie)&&(e=T?"-"+D:D)}let E=this._charToRegExpExpression(this.thousandSeparator),M='@#!$%^&*()_+|~=`{}\\[\\]:\\s,\\.";<>?\\/'.replace(E,"");if(Array.isArray(this.decimalMarker))for(let D of this.decimalMarker)M=M.replace(this._charToRegExpExpression(D),"");else M=M.replace(this._charToRegExpExpression(this.decimalMarker),"");let O=new RegExp("["+M+"]");e.match(O)&&(e=e.substring(0,e.length-1)),e=this.checkInputPrecision(e,g,this.decimalMarker);let I=e.replace(new RegExp(E,"g"),"");h=this._formatWithSeparators(I,this.thousandSeparator,this.decimalMarker,g);let Z=h.indexOf(",")-e.indexOf(","),V=h.length-e.length;if(h[r-1]===this.thousandSeparator&&this.prefix&&l)r=r-1;else if(V>0&&h[r]!==this.thousandSeparator){x=!0;let D=0;do this._shift.add(r+D),D++;while(D<V)}else h[r-1]===this.decimalMarker||V===-4||V===-3||h[r]===this.thousandSeparator?(this._shift.clear(),this._shift.add(r-1)):Z!==0&&r>0&&!(h.indexOf(",")>=r&&r>3)||!(h.indexOf(".")>=r&&r>3)&&V<=0?(this._shift.clear(),x=!0,k=V,r+=V,this._shift.add(r)):this._shift.clear()}else for(let g=0,u=y[0];g<y.length&&o!==t.length;g++,u=y[g]??""){let E="*"in this.patterns;if(this._checkSymbolMask(u,t[o]??"")&&t[o+1]==="?")h+=u,o+=2;else if(t[o+1]==="*"&&c&&this._checkSymbolMask(u,t[o+2]??""))h+=u,o+=3,c=!1;else if(this._checkSymbolMask(u,t[o]??"")&&t[o+1]==="*"&&!E)h+=u,c=!0;else if(t[o+1]==="?"&&this._checkSymbolMask(u,t[o+2]??""))h+=u,o+=3;else if(this._checkSymbolMask(u,t[o]??"")){if(t[o]==="H"&&(this.apm?Number(u)>9:Number(u)>2)){r=this.leadZeroDateTime?r:r+1,o+=1,this._shiftStep(t,o,y.length),g--,this.leadZeroDateTime&&(h+="0");continue}if(t[o]==="h"&&(this.apm?h.length===1&&Number(h)>1||h==="1"&&Number(u)>2||e.slice(o-1,o).length===1&&Number(e.slice(o-1,o))>2||e.slice(o-1,o)==="1"&&Number(u)>2:h==="2"&&Number(u)>3||(h.slice(o-2,o)==="2"||h.slice(o-3,o)==="2"||h.slice(o-4,o)==="2"||h.slice(o-1,o)==="2")&&Number(u)>3&&o>10)){r=r+1,o+=1,g--;continue}if((t[o]==="m"||t[o]==="s")&&Number(u)>5){r=this.leadZeroDateTime?r:r+1,o+=1,this._shiftStep(t,o,y.length),g--,this.leadZeroDateTime&&(h+="0");continue}let M=31,O=e[o],I=e[o+1],Z=e[o+2],V=e[o-1],D=e[o-2],N=e.slice(o-3,o-1),q=e.slice(o-1,o+1),T=e.slice(o,o+2),Me=e.slice(o-2,o);if(t[o]==="d"){let be=t.slice(0,2)==="M0",ie=t.slice(0,2)==="M0"&&this.specialCharacters.includes(D);if(Number(u)>3&&this.leadZeroDateTime||!be&&(Number(T)>M||Number(q)>M||this.specialCharacters.includes(I))||(ie?Number(q)>M||!this.specialCharacters.includes(O)&&this.specialCharacters.includes(Z)||this.specialCharacters.includes(O):Number(T)>M||this.specialCharacters.includes(I))){r=this.leadZeroDateTime?r:r+1,o+=1,this._shiftStep(t,o,y.length),g--,this.leadZeroDateTime&&(h+="0");continue}}if(t[o]==="M"){let ie=o===0&&(Number(u)>2||Number(T)>12||this.specialCharacters.includes(I)&&!l),He=t.slice(o+2,o+3),ri=N.includes(He)&&t.includes("d0")&&(this.specialCharacters.includes(D)&&Number(q)>12&&!this.specialCharacters.includes(O)||this.specialCharacters.includes(O)),ni=Number(N)<=M&&!this.specialCharacters.includes(N)&&this.specialCharacters.includes(V)&&(Number(T)>12||this.specialCharacters.includes(I)),ai=Number(T)>12&&o===5||this.specialCharacters.includes(I)&&o===5,oi=Number(N)>M&&!this.specialCharacters.includes(N)&&!this.specialCharacters.includes(Me)&&Number(Me)>12&&t.includes("d0"),li=Number(N)<=M&&!this.specialCharacters.includes(N)&&!this.specialCharacters.includes(V)&&Number(q)>12;if(Number(u)>1&&this.leadZeroDateTime||ie||ri||li||oi||ni||ai&&!this.leadZeroDateTime){r=this.leadZeroDateTime?r:r+1,o+=1,this._shiftStep(t,o,y.length),g--,this.leadZeroDateTime&&(h+="0");continue}}h+=u,o++}else this.specialCharacters.includes(u)&&t[o]===u?(h+=u,o++):this.specialCharacters.indexOf(t[o]??"")!==-1?(h+=t[o],o++,this._shiftStep(t,o,y.length),g--):t[o]==="9"&&this.showMaskTyped?this._shiftStep(t,o,y.length):this.patterns[t[o]??""]&&this.patterns[t[o]??""]?.optional?(y[o]&&t!=="099.099.099.099"&&t!=="000.000.000-00"&&t!=="00.000.000/0000-00"&&!t.match(/^9+\.0+$/)&&!this.patterns[t[o]??""]?.optional&&(h+=y[o]),t.includes("9*")&&t.includes("0*")&&o++,o++,g--):this.maskExpression[o+1]==="*"&&this._findSpecialChar(this.maskExpression[o+2]??"")&&this._findSpecialChar(u)===this.maskExpression[o+2]&&c||this.maskExpression[o+1]==="?"&&this._findSpecialChar(this.maskExpression[o+2]??"")&&this._findSpecialChar(u)===this.maskExpression[o+2]&&c?(o+=3,h+=u):this.showMaskTyped&&this.specialCharacters.indexOf(u)<0&&u!==this.placeHolderCharacter&&this.placeHolderCharacter.length===1&&(_=!0)}h.length+1===t.length&&this.specialCharacters.indexOf(t[t.length-1]??"")!==-1&&(h+=t[t.length-1]);let U=r+1;for(;this._shift.has(U);)k++,U++;let W=a&&!t.startsWith("separator")?o:this._shift.has(r)?k:0;_&&W--,f(W,x),k<0&&this._shift.clear();let he=!1;l&&(he=y.every(g=>this.specialCharacters.includes(g)));let te=`${this.prefix}${he?"":h}${this.showMaskTyped?"":this.suffix}`;h.length===0&&(te=this.dropSpecialCharacters?`${h}`:`${this.prefix}${h}`);let Se=e.length===1&&this.specialCharacters.includes(t[0])&&e!==t[0];if(!this._checkSymbolMask(e,t[1])&&Se)return"";if(h.includes("-")&&this.prefix&&this.allowNegativeNumbers){if(l&&h==="-")return"";te=`-${this.prefix}${h.split("-").join("")}${this.suffix}`}return te}_findDropSpecialChar(e){return Array.isArray(this.dropSpecialCharacters)?this.dropSpecialCharacters.find(t=>t===e):this._findSpecialChar(e)}_findSpecialChar(e){return this.specialCharacters.find(t=>t===e)}_checkSymbolMask(e,t){return this.patterns=this.customPattern?this.customPattern:this.patterns,(this.patterns[t]?.pattern&&this.patterns[t]?.pattern.test(e))??!1}_stripToDecimal(e){return e.split("").filter((t,r)=>{let a=typeof this.decimalMarker=="string"?t===this.decimalMarker:this.decimalMarker.includes(t);return t.match("^-?\\d")||t===this.thousandSeparator||a||t==="-"&&r===0&&this.allowNegativeNumbers}).join("")}_charToRegExpExpression(e){return e&&(e===" "?"\\s":"[\\^$.|?*+()".indexOf(e)>=0?`\\${e}`:e)}_shiftStep(e,t,r){let a=/[*?]/g.test(e.slice(0,t))?r:t;this._shift.add(a+this.prefix.length||0)}_compareOrIncludes(e,t,r){return Array.isArray(t)?t.filter(a=>a!==r).includes(e):e===t}_validIP(e){return!(e.length===4&&!e.some((t,r)=>e.length!==r+1?t===""||Number(t)>255:t===""||Number(t.substring(0,3))>255))}_splitPercentZero(e){if(e==="-"&&this.allowNegativeNumbers)return e;let t=typeof this.decimalMarker=="string"?e.indexOf(this.decimalMarker):e.indexOf("."),r=this.allowNegativeNumbers&&e.includes("-")?"-":"";if(t===-1){let a=parseInt(r?e.slice(1,e.length):e,10);return isNaN(a)?"":`${r}${a}`}else{let a=parseInt(e.replace("-","").substring(0,t),10),l=e.substring(t+1),f=isNaN(a)?"":a.toString(),o=typeof this.decimalMarker=="string"?this.decimalMarker:".";return f===""?"":`${r}${f}${o}${l}`}}_findFirstNonZeroDigitIndex(e){for(let t=0;t<e.length;t++){let r=e[t];if(r&&r>="1"&&r<="9")return t}return-1}};i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=se({token:i,factory:i.\u0275fac});let s=i;return s})(),Re=(()=>{let i=class i extends ji{constructor(){super(...arguments),this.isNumberValue=!1,this.maskIsShown="",this.selStart=null,this.selEnd=null,this.writingValue=!1,this.maskChanged=!1,this._maskExpressionArray=[],this.triggerOnMaskChange=!1,this._previousValue="",this._currentValue="",this._emitValue=!1,this.onChange=e=>{},this._elementRef=w(ce,{optional:!0}),this.document=w(We),this._config=w(ke),this._renderer=w(ue,{optional:!0})}applyMask(e,t,r=0,a=!1,l=!1,f=()=>{}){if(!t)return e!==this.actualValue?this.actualValue:e;if(this.maskIsShown=this.showMaskTyped?this.showMaskInInput():"",this.maskExpression==="IP"&&this.showMaskTyped&&(this.maskIsShown=this.showMaskInInput(e||"#")),this.maskExpression==="CPF_CNPJ"&&this.showMaskTyped&&(this.maskIsShown=this.showMaskInInput(e||"#")),!e&&this.showMaskTyped)return this.formControlResult(this.prefix),`${this.prefix}${this.maskIsShown}${this.suffix}`;let o=e&&typeof this.selStart=="number"?e[this.selStart]??"":"",h="";if(this.hiddenInput!==void 0&&!this.writingValue){let _=e&&e.length===1?e.split(""):this.actualValue.split("");typeof this.selStart=="object"&&typeof this.selEnd=="object"?(this.selStart=Number(this.selStart),this.selEnd=Number(this.selEnd)):e!==""&&_.length?typeof this.selStart=="number"&&typeof this.selEnd=="number"&&(e.length>_.length?_.splice(this.selStart,0,o):e.length<_.length&&(_.length-e.length===1?l?_.splice(this.selStart-1,1):_.splice(e.length-1,1):_.splice(this.selStart,this.selEnd-this.selStart))):_=[],this.showMaskTyped&&(this.hiddenInput||(e=this.removeMask(e))),h=this.actualValue.length&&_.length<=e.length?this.shiftTypedSymbols(_.join("")):e}if(a&&(this.hiddenInput||!this.hiddenInput)&&(h=e),l&&this.specialCharacters.indexOf(this.maskExpression[r]??"")!==-1&&this.showMaskTyped&&!this.prefix&&(h=this._currentValue),this.deletedSpecialCharacter&&r&&(this.specialCharacters.includes(this.actualValue.slice(r,r+1))?r=r+1:t.slice(r-1,r+1)!=="M0"&&(r=r-2),this.deletedSpecialCharacter=!1),this.showMaskTyped&&this.placeHolderCharacter.length===1&&!this.leadZeroDateTime&&(e=this.removeMask(e)),this.maskChanged?h=e:h=h&&h.length?h:e,this.showMaskTyped&&this.keepCharacterPositions&&this.actualValue&&!a&&!this.writingValue){let _=this.dropSpecialCharacters?this.removeMask(this.actualValue):this.actualValue;return this.formControlResult(_),this.actualValue?this.actualValue:`${this.prefix}${this.maskIsShown}${this.suffix}`}let c=super.applyMask(h,t,r,a,l,f);if(this.actualValue=this.getActualValue(c),this.thousandSeparator==="."&&this.decimalMarker==="."&&(this.decimalMarker=","),this.maskExpression.startsWith("separator")&&this.dropSpecialCharacters===!0&&(this.specialCharacters=this.specialCharacters.filter(_=>!this._compareOrIncludes(_,this.decimalMarker,this.thousandSeparator))),(c||c==="")&&(this._previousValue=this._currentValue,this._currentValue=c,this._emitValue=this._previousValue!==this._currentValue||this.maskChanged||this._previousValue===this._currentValue&&a),this._emitValue&&(this.writingValue&&this.triggerOnMaskChange?requestAnimationFrame(()=>this.formControlResult(c)):this.formControlResult(c)),!this.showMaskTyped||this.showMaskTyped&&this.hiddenInput)return this.hiddenInput?l?this.hideInput(c,this.maskExpression):`${this.hideInput(c,this.maskExpression)}${this.maskIsShown.slice(c.length)}`:c;let x=c.length,k=`${this.prefix}${this.maskIsShown}${this.suffix}`;if(this.maskExpression.includes("H")){let _=this._numberSkipedSymbols(c);return`${c}${k.slice(x+_)}`}else if(this.maskExpression==="IP"||this.maskExpression==="CPF_CNPJ")return`${c}${k}`;return`${c}${k.slice(x)}`}_numberSkipedSymbols(e){let t=/(^|\D)(\d\D)/g,r=t.exec(e),a=0;for(;r!=null;)a+=1,r=t.exec(e);return a}applyValueChanges(e,t,r,a=()=>{}){let l=this._elementRef?.nativeElement;l&&(l.value=this.applyMask(l.value,this.maskExpression,e,t,r,a),l!==this._getActiveElement()&&this.clearIfNotMatchFn())}hideInput(e,t){return e.split("").map((r,a)=>this.patterns&&this.patterns[t[a]??""]&&this.patterns[t[a]??""]?.symbol?this.patterns[t[a]??""]?.symbol:r).join("")}getActualValue(e){let t=e.split("").filter((r,a)=>{let l=this.maskExpression[a]??"";return this._checkSymbolMask(r,l)||this.specialCharacters.includes(l)&&r===l});return t.join("")===e?t.join(""):e}shiftTypedSymbols(e){let t="";return(e&&e.split("").map((a,l)=>{if(this.specialCharacters.includes(e[l+1]??"")&&e[l+1]!==this.maskExpression[l+1])return t=a,e[l+1];if(t.length){let f=t;return t="",f}return a})||[]).join("")}numberToString(e){return!e&&e!==0||this.maskExpression.startsWith("separator")&&(this.leadZero||!this.dropSpecialCharacters)||this.maskExpression.startsWith("separator")&&this.separatorLimit.length>14&&String(e).length>14?String(e):Number(e).toLocaleString("fullwide",{useGrouping:!1,maximumFractionDigits:20}).replace("/-/","-")}showMaskInInput(e){if(this.showMaskTyped&&this.shownMaskExpression){if(this.maskExpression.length!==this.shownMaskExpression.length)throw new Error("Mask expression must match mask placeholder length");return this.shownMaskExpression}else if(this.showMaskTyped){if(e){if(this.maskExpression==="IP")return this._checkForIp(e);if(this.maskExpression==="CPF_CNPJ")return this._checkForCpfCnpj(e)}return this.placeHolderCharacter.length===this.maskExpression.length?this.placeHolderCharacter:this.maskExpression.replace(/\w/g,this.placeHolderCharacter)}return""}clearIfNotMatchFn(){let e=this._elementRef?.nativeElement;e&&this.clearIfNotMatch&&this.prefix.length+this.maskExpression.length+this.suffix.length!==e.value.replace(this.placeHolderCharacter,"").length&&(this.formElementProperty=["value",""],this.applyMask("",this.maskExpression))}set formElementProperty([e,t]){!this._renderer||!this._elementRef||Promise.resolve().then(()=>this._renderer?.setProperty(this._elementRef?.nativeElement,e,t))}checkDropSpecialCharAmount(e){return e.split("").filter(r=>this._findDropSpecialChar(r)).length}removeMask(e){return this._removeMask(this._removeSuffix(this._removePrefix(e)),this.specialCharacters.concat("_").concat(this.placeHolderCharacter))}_checkForIp(e){if(e==="#")return`${this.placeHolderCharacter}.${this.placeHolderCharacter}.${this.placeHolderCharacter}.${this.placeHolderCharacter}`;let t=[];for(let r=0;r<e.length;r++){let a=e[r]??"";a&&a.match("\\d")&&t.push(a)}return t.length<=3?`${this.placeHolderCharacter}.${this.placeHolderCharacter}.${this.placeHolderCharacter}`:t.length>3&&t.length<=6?`${this.placeHolderCharacter}.${this.placeHolderCharacter}`:t.length>6&&t.length<=9?this.placeHolderCharacter:(t.length>9&&t.length<=12,"")}_checkForCpfCnpj(e){let t=`${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}-${this.placeHolderCharacter}${this.placeHolderCharacter}`,r=`${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}/${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}-${this.placeHolderCharacter}${this.placeHolderCharacter}`;if(e==="#")return t;let a=[];for(let l=0;l<e.length;l++){let f=e[l]??"";f&&f.match("\\d")&&a.push(f)}return a.length<=3?t.slice(a.length,t.length):a.length>3&&a.length<=6?t.slice(a.length+1,t.length):a.length>6&&a.length<=9?t.slice(a.length+2,t.length):a.length>9&&a.length<11?t.slice(a.length+3,t.length):a.length===11?"":a.length===12?e.length===17?r.slice(16,r.length):r.slice(15,r.length):a.length>12&&a.length<=14?r.slice(a.length+4,r.length):""}_getActiveElement(e=this.document){let t=e?.activeElement?.shadowRoot;return t?.activeElement?this._getActiveElement(t):e.activeElement}formControlResult(e){if(this.writingValue||!this.triggerOnMaskChange&&this.maskChanged){this.triggerOnMaskChange&&this.maskChanged&&this.onChange(this.outputTransformFn(this._toNumber(this._checkSymbols(this._removeSuffix(this._removePrefix(e)))))),this.maskChanged=!1;return}Array.isArray(this.dropSpecialCharacters)?this.onChange(this.outputTransformFn(this._toNumber(this._checkSymbols(this._removeMask(this._removeSuffix(this._removePrefix(e)),this.dropSpecialCharacters))))):this.dropSpecialCharacters||!this.dropSpecialCharacters&&this.prefix===e?this.onChange(this.outputTransformFn(this._toNumber(this._checkSymbols(this._removeSuffix(this._removePrefix(e)))))):this.onChange(this.outputTransformFn(this._toNumber(e)))}_toNumber(e){if(!this.isNumberValue||e===""||this.maskExpression.startsWith("separator")&&(this.leadZero||!this.dropSpecialCharacters))return e;if(String(e).length>16&&this.separatorLimit.length>14)return String(e);let t=Number(e);if(this.maskExpression.startsWith("separator")&&Number.isNaN(t)){let r=String(e).replace(",",".");return Number(r)}return Number.isNaN(t)?e:t}_removeMask(e,t){return this.maskExpression.startsWith("percent")&&e.includes(".")?e:e&&e.replace(this._regExpForRemove(t),"")}_removePrefix(e){return this.prefix?e&&e.replace(this.prefix,""):e}_removeSuffix(e){return this.suffix?e&&e.replace(this.suffix,""):e}_retrieveSeparatorValue(e){let t=Array.isArray(this.dropSpecialCharacters)?this.specialCharacters.filter(r=>this.dropSpecialCharacters.includes(r)):this.specialCharacters;return!this.deletedSpecialCharacter&&this._checkPatternForSpace()&&e.includes(" ")&&this.maskExpression.includes("*")&&(t=t.filter(r=>r!==" ")),this._removeMask(e,t)}_regExpForRemove(e){return new RegExp(e.map(t=>`\\${t}`).join("|"),"gi")}_replaceDecimalMarkerToDot(e){let t=Array.isArray(this.decimalMarker)?this.decimalMarker:[this.decimalMarker];return e.replace(this._regExpForRemove(t),".")}_checkSymbols(e){if(e==="")return e;this.maskExpression.startsWith("percent")&&this.decimalMarker===","&&(e=e.replace(",","."));let t=this._retrieveSeparatorPrecision(this.maskExpression),r=this._replaceDecimalMarkerToDot(this._retrieveSeparatorValue(e));return this.isNumberValue&&t?e===this.decimalMarker?null:this.separatorLimit.length>14?String(r):this._checkPrecision(this.maskExpression,r):r}_checkPatternForSpace(){for(let e in this.patterns)if(this.patterns[e]&&this.patterns[e]?.hasOwnProperty("pattern")){let t=this.patterns[e]?.pattern.toString(),r=this.patterns[e]?.pattern;if(t?.includes(" ")&&r?.test(this.maskExpression))return!0}return!1}_retrieveSeparatorPrecision(e){let t=e.match(new RegExp("^separator\\.([^d]*)"));return t?Number(t[1]):null}_checkPrecision(e,t){let r=e.slice(10,11);return e.indexOf("2")>0||this.leadZero&&Number(r)>0?(this.decimalMarker===","&&this.leadZero&&(t=t.replace(",",".")),this.leadZero?Number(t).toFixed(Number(r)):Number(t).toFixed(2)):this.numberToString(t)}_repeatPatternSymbols(e){return e.match(/{[0-9]+}/)&&e.split("").reduce((t,r,a)=>{if(this._start=r==="{"?a:this._start,r!=="}")return this._findSpecialChar(r)?t+r:t;this._end=a;let l=Number(e.slice(this._start+1,this._end)),f=new Array(l+1).join(e[this._start-1]);if(e.slice(0,this._start).length>1&&e.includes("S")){let o=e.slice(0,this._start-1);return o.includes("{")?t+f:o+t+f}else return t+f},"")||e}currentLocaleDecimalMarker(){return 1.1.toLocaleString().substring(1,2)}};i.\u0275fac=(()=>{let e;return function(r){return(e||(e=De(i)))(r||i)}})(),i.\u0275prov=se({token:i,factory:i.\u0275fac});let s=i;return s})();function Bi(){let s=w(qt),i=w(Zt);return i instanceof Function?v(v({},s),i()):v(v({},s),i)}function zt(s){return[{provide:Zt,useValue:s},{provide:qt,useValue:Ri},{provide:ke,useFactory:Bi},Re]}var Kt=(()=>{let i=class i{constructor(){this.maskExpression="",this.specialCharacters=[],this.patterns={},this.prefix="",this.suffix="",this.thousandSeparator=" ",this.decimalMarker=".",this.dropSpecialCharacters=null,this.hiddenInput=null,this.showMaskTyped=null,this.placeHolderCharacter=null,this.shownMaskExpression=null,this.showTemplate=null,this.clearIfNotMatch=null,this.validation=null,this.separatorLimit=null,this.allowNegativeNumbers=null,this.leadZeroDateTime=null,this.leadZero=null,this.triggerOnMaskChange=null,this.apm=null,this.inputTransformFn=null,this.outputTransformFn=null,this.keepCharacterPositions=null,this.maskFilled=new z,this._maskValue="",this._position=null,this._maskExpressionArray=[],this._allowFewMaskChangeMask=!1,this._justPasted=!1,this._isFocused=!1,this._isComposing=!1,this.document=w(We),this._maskService=w(Re,{self:!0}),this._config=w(ke),this.onChange=e=>{},this.onTouch=()=>{}}ngOnChanges(e){let{maskExpression:t,specialCharacters:r,patterns:a,prefix:l,suffix:f,thousandSeparator:o,decimalMarker:h,dropSpecialCharacters:c,hiddenInput:x,showMaskTyped:k,placeHolderCharacter:_,shownMaskExpression:y,showTemplate:A,clearIfNotMatch:U,validation:W,separatorLimit:he,allowNegativeNumbers:te,leadZeroDateTime:Se,leadZero:g,triggerOnMaskChange:u,apm:E,inputTransformFn:M,outputTransformFn:O,keepCharacterPositions:I}=e;if(t&&(t.currentValue!==t.previousValue&&!t.firstChange&&(this._maskService.maskChanged=!0),t.currentValue&&t.currentValue.split("||").length>1?(this._maskExpressionArray=t.currentValue.split("||").sort((Z,V)=>Z.length-V.length),this._setMask()):(this._maskExpressionArray=[],this._maskValue=t.currentValue||"",this._maskService.maskExpression=this._maskValue)),r){if(!r.currentValue||!Array.isArray(r.currentValue))return;this._maskService.specialCharacters=r.currentValue||[]}te&&(this._maskService.allowNegativeNumbers=te.currentValue,this._maskService.allowNegativeNumbers&&(this._maskService.specialCharacters=this._maskService.specialCharacters.filter(Z=>Z!=="-"))),a&&a.currentValue&&(this._maskService.patterns=a.currentValue),E&&E.currentValue&&(this._maskService.apm=E.currentValue),l&&(this._maskService.prefix=l.currentValue),f&&(this._maskService.suffix=f.currentValue),o&&(this._maskService.thousandSeparator=o.currentValue),h&&(this._maskService.decimalMarker=h.currentValue),c&&(this._maskService.dropSpecialCharacters=c.currentValue),x&&(this._maskService.hiddenInput=x.currentValue),k&&(this._maskService.showMaskTyped=k.currentValue,k.previousValue===!1&&k.currentValue===!0&&this._isFocused&&requestAnimationFrame(()=>{this._maskService._elementRef?.nativeElement.click()})),_&&(this._maskService.placeHolderCharacter=_.currentValue),y&&(this._maskService.shownMaskExpression=y.currentValue),A&&(this._maskService.showTemplate=A.currentValue),U&&(this._maskService.clearIfNotMatch=U.currentValue),W&&(this._maskService.validation=W.currentValue),he&&(this._maskService.separatorLimit=he.currentValue),Se&&(this._maskService.leadZeroDateTime=Se.currentValue),g&&(this._maskService.leadZero=g.currentValue),u&&(this._maskService.triggerOnMaskChange=u.currentValue),M&&(this._maskService.inputTransformFn=M.currentValue),O&&(this._maskService.outputTransformFn=O.currentValue),I&&(this._maskService.keepCharacterPositions=I.currentValue),this._applyMask()}validate({value:e}){if(!this._maskService.validation||!this._maskValue)return null;if(this._maskService.ipError)return this._createValidationError(e);if(this._maskService.cpfCnpjError)return this._createValidationError(e);if(this._maskValue.startsWith("separator")||Hi.includes(this._maskValue)||this._maskService.clearIfNotMatch)return null;if($i.includes(this._maskValue))return this._validateTime(e);if(e&&e.toString().length>=1){let t=0;if(this._maskValue.includes("{")&&this._maskValue.includes("}"))return this._maskValue.slice(this._maskValue.indexOf("{")+1,this._maskValue.indexOf("}"))===String(e.length)?null:this._createValidationError(e);if(this._maskValue.startsWith("percent"))return null;for(let r in this._maskService.patterns)if(this._maskService.patterns[r]?.optional){if(this._maskValue.indexOf(r)!==this._maskValue.lastIndexOf(r)){let a=this._maskValue.split("").filter(l=>l===r).join("");t+=a.length}else this._maskValue.indexOf(r)!==-1&&t++;if(this._maskValue.indexOf(r)!==-1&&e.toString().length>=this._maskValue.indexOf(r)||t===this._maskValue.length)return null}if(this._maskValue.indexOf("*")>1&&e.toString().length<this._maskValue.indexOf("*")||this._maskValue.indexOf("?")>1&&e.toString().length<this._maskValue.indexOf("?"))return this._createValidationError(e);if(this._maskValue.indexOf("*")===-1||this._maskValue.indexOf("?")===-1){e=typeof e=="number"?String(e):e;let r=this._maskValue.split("*"),a=this._maskService.dropSpecialCharacters?this._maskValue.length-this._maskService.checkDropSpecialCharAmount(this._maskValue)-t:this.prefix?this._maskValue.length+this.prefix.length-t:this._maskValue.length-t;if(r.length===1&&e.toString().length<a)return this._createValidationError(e);if(r.length>1){let l=r[r.length-1];if(l&&this._maskService.specialCharacters.includes(l[0])&&String(e).includes(l[0]??"")&&!this.dropSpecialCharacters){let f=e.split(l[0]);return f[f.length-1].length===l.length-1?null:this._createValidationError(e)}else return(l&&!this._maskService.specialCharacters.includes(l[0])||!l||this._maskService.dropSpecialCharacters)&&e.length>=a-1?null:this._createValidationError(e)}}if(this._maskValue.indexOf("*")===1||this._maskValue.indexOf("?")===1)return null}return e&&this.maskFilled.emit(),null}onPaste(){this._justPasted=!0}onFocus(){this._isFocused=!0}onModelChange(e){(e===""||e===null||e===void 0)&&this._maskService.actualValue&&(this._maskService.actualValue=this._maskService.getActualValue(""))}onInput(e){if(this._isComposing)return;let t=e.target,r=this._maskService.inputTransformFn(t.value);if(t.type!=="number")if(typeof r=="string"||typeof r=="number"){if(t.value=r.toString(),this._inputValue=t.value,this._setMask(),!this._maskValue){this.onChange(t.value);return}let a=t.selectionStart===1?t.selectionStart+this._maskService.prefix.length:t.selectionStart;if(this.showMaskTyped&&this.keepCharacterPositions&&this._maskService.placeHolderCharacter.length===1){let h=t.value.slice(a-1,a),c=this.prefix.length,x=this._maskService._checkSymbolMask(h,this._maskService.maskExpression[a-1-c]??""),k=this._maskService._checkSymbolMask(h,this._maskService.maskExpression[a+1-c]??""),_=this._maskService.selStart===this._maskService.selEnd,y=Number(this._maskService.selStart)-c,A=Number(this._maskService.selEnd)-c;if(this._code==="Backspace"){if(!_)this._maskService.selStart===c?this._maskService.actualValue=`${this.prefix}${this._maskService.maskIsShown.slice(0,A)}${this._inputValue.split(this.prefix).join("")}`:this._maskService.selStart===this._maskService.maskIsShown.length+c?this._maskService.actualValue=`${this._inputValue}${this._maskService.maskIsShown.slice(y,A)}`:this._maskService.actualValue=`${this.prefix}${this._inputValue.split(this.prefix).join("").slice(0,y)}${this._maskService.maskIsShown.slice(y,A)}${this._maskService.actualValue.slice(A+c,this._maskService.maskIsShown.length+c)}${this.suffix}`;else if(!this._maskService.specialCharacters.includes(this._maskService.maskExpression.slice(a-this.prefix.length,a+1-this.prefix.length))&&_)if(y===1&&this.prefix)this._maskService.actualValue=`${this.prefix}${this._maskService.placeHolderCharacter}${t.value.split(this.prefix).join("").split(this.suffix).join("")}${this.suffix}`,a=a-1;else{let U=t.value.substring(0,a),W=t.value.substring(a);this._maskService.actualValue=`${U}${this._maskService.placeHolderCharacter}${W}`}}this._code!=="Backspace"&&(!x&&!k&&_?a=Number(t.selectionStart)-1:this._maskService.specialCharacters.includes(t.value.slice(a,a+1))&&k&&!this._maskService.specialCharacters.includes(t.value.slice(a+1,a+2))?(this._maskService.actualValue=`${t.value.slice(0,a-1)}${t.value.slice(a,a+1)}${h}${t.value.slice(a+2)}`,a=a+1):x?t.value.length===1&&a===1?this._maskService.actualValue=`${this.prefix}${h}${this._maskService.maskIsShown.slice(1,this._maskService.maskIsShown.length)}${this.suffix}`:this._maskService.actualValue=`${t.value.slice(0,a-1)}${h}${t.value.slice(a+1).split(this.suffix).join("")}${this.suffix}`:this.prefix&&t.value.length===1&&a-c===1&&this._maskService._checkSymbolMask(t.value,this._maskService.maskExpression[a-1-c]??"")&&(this._maskService.actualValue=`${this.prefix}${t.value}${this._maskService.maskIsShown.slice(1,this._maskService.maskIsShown.length)}${this.suffix}`))}let l=0,f=!1;if(this._code==="Delete"&&(this._maskService.deletedSpecialCharacter=!0),this._inputValue.length>=this._maskService.maskExpression.length-1&&this._code!=="Backspace"&&this._maskService.maskExpression==="d0/M0/0000"&&a<10){let h=this._inputValue.slice(a-1,a);t.value=this._inputValue.slice(0,a-1)+h+this._inputValue.slice(a+1)}if(this._maskService.maskExpression==="d0/M0/0000"&&this.leadZeroDateTime&&(a<3&&Number(t.value)>31&&Number(t.value)<40||a===5&&Number(t.value.slice(3,5))>12)&&(a=a+2),this._maskService.maskExpression==="Hh:m0:s0"&&this.apm&&(this._justPasted&&t.value.slice(0,2)==="00"&&(t.value=t.value.slice(1,2)+t.value.slice(2,t.value.length)),t.value=t.value==="00"?"0":t.value),this._maskService.applyValueChanges(a,this._justPasted,this._code==="Backspace"||this._code==="Delete",(h,c)=>{this._justPasted=!1,l=h,f=c}),this._getActiveElement()!==t)return;if(this._maskService.plusOnePosition&&(a=a+1,this._maskService.plusOnePosition=!1),this._maskExpressionArray.length)if(this._code==="Backspace"){let h=this.specialCharacters.includes(this._maskService.actualValue.slice(a-1,a)),c=this.specialCharacters.includes(this._maskService.actualValue.slice(a,a+1));this._allowFewMaskChangeMask&&!c?(a=t.selectionStart+1,this._allowFewMaskChangeMask=!1):a=h?a-1:a}else a=t.selectionStart===1?t.selectionStart+this._maskService.prefix.length:t.selectionStart;this._position=this._position===1&&this._inputValue.length===1?null:this._position;let o=this._position?this._inputValue.length+a+l:a+(this._code==="Backspace"&&!f?0:l);o>this._getActualInputLength()&&(o=t.value===this._maskService.decimalMarker&&t.value.length===1?this._getActualInputLength()+1:this._getActualInputLength()),o<0&&(o=0),t.setSelectionRange(o,o),this._position=null}else console.warn("Ngx-mask writeValue work with string | number, your current value:",typeof r);else{if(!this._maskValue){this.onChange(t.value);return}this._maskService.applyValueChanges(t.value.length,this._justPasted,this._code==="Backspace"||this._code==="Delete")}}onCompositionStart(){this._isComposing=!0}onCompositionEnd(e){this._isComposing=!1,this._justPasted=!0,this.onInput(e)}onBlur(e){if(this._maskValue){let t=e.target;if(this.leadZero&&t.value.length>0&&typeof this.decimalMarker=="string"){let r=this._maskService.maskExpression,a=Number(this._maskService.maskExpression.slice(r.length-1,r.length));if(a>0){t.value=this.suffix?t.value.split(this.suffix).join(""):t.value;let l=t.value.split(this.decimalMarker)[1];t.value=t.value.includes(this.decimalMarker)?t.value+"0".repeat(a-l.length)+this.suffix:t.value+this.decimalMarker+"0".repeat(a)+this.suffix,this._maskService.actualValue=t.value}}this._maskService.clearIfNotMatchFn()}this._isFocused=!1,this.onTouch()}onClick(e){if(!this._maskValue)return;let t=e.target,r=0,a=0;t!==null&&t.selectionStart!==null&&t.selectionStart===t.selectionEnd&&t.selectionStart>this._maskService.prefix.length&&e.keyCode!==38&&this._maskService.showMaskTyped&&!this.keepCharacterPositions&&(this._maskService.maskIsShown=this._maskService.showMaskInInput(),t.setSelectionRange&&this._maskService.prefix+this._maskService.maskIsShown===t.value?(t.focus(),t.setSelectionRange(r,a)):t.selectionStart>this._maskService.actualValue.length&&t.setSelectionRange(this._maskService.actualValue.length,this._maskService.actualValue.length));let l=t&&(t.value===this._maskService.prefix?this._maskService.prefix+this._maskService.maskIsShown:t.value);if(t&&t.value!==l&&(t.value=l),t&&t.type!=="number"&&(t.selectionStart||t.selectionEnd)<=this._maskService.prefix.length){t.selectionStart=this._maskService.prefix.length;return}t&&t.selectionEnd>this._getActualInputLength()&&(t.selectionEnd=this._getActualInputLength())}onKeyDown(e){if(!this._maskValue)return;if(this._isComposing){e.key==="Enter"&&this.onCompositionEnd(e);return}this._code=e.code?e.code:e.key;let t=e.target;if(this._inputValue=t.value,this._setMask(),t.type!=="number"){if(e.key==="ArrowUp"&&e.preventDefault(),e.key==="ArrowLeft"||e.key==="Backspace"||e.key==="Delete"){if(e.key==="Backspace"&&t.value.length===0&&(t.selectionStart=t.selectionEnd),e.key==="Backspace"&&t.selectionStart!==0){if(this.specialCharacters=this.specialCharacters?.length?this.specialCharacters:this._config.specialCharacters,this.prefix.length>1&&t.selectionStart<=this.prefix.length)t.setSelectionRange(this.prefix.length,t.selectionEnd);else if(this._inputValue.length!==t.selectionStart&&t.selectionStart!==1)for(;this.specialCharacters.includes((this._inputValue[t.selectionStart-1]??"").toString())&&(this.prefix.length>=1&&t.selectionStart>this.prefix.length||this.prefix.length===0);)t.setSelectionRange(t.selectionStart-1,t.selectionEnd)}this.checkSelectionOnDeletion(t),this._maskService.prefix.length&&t.selectionStart<=this._maskService.prefix.length&&t.selectionEnd<=this._maskService.prefix.length&&e.preventDefault();let r=t.selectionStart;e.key==="Backspace"&&!t.readOnly&&r===0&&t.selectionEnd===t.value.length&&t.value.length!==0&&(this._position=this._maskService.prefix?this._maskService.prefix.length:0,this._maskService.applyMask(this._maskService.prefix,this._maskService.maskExpression,this._position))}this.suffix&&this.suffix.length>1&&this._inputValue.length-this.suffix.length<t.selectionStart?t.setSelectionRange(this._inputValue.length-this.suffix.length,this._inputValue.length):(e.code==="KeyA"&&e.ctrlKey||e.code==="KeyA"&&e.metaKey)&&(t.setSelectionRange(0,this._getActualInputLength()),e.preventDefault()),this._maskService.selStart=t.selectionStart,this._maskService.selEnd=t.selectionEnd}}writeValue(e){return it(this,null,function*(){if(typeof e=="object"&&e!==null&&"value"in e&&("disable"in e&&this.setDisabledState(!!e.disable),e=e.value),e!==null&&(e=this.inputTransformFn?this.inputTransformFn(e):e),typeof e=="string"||typeof e=="number"||e===null||e===void 0){(e==null||e==="")&&(this._maskService._currentValue="",this._maskService._previousValue="");let t=e;if(typeof t=="number"||this._maskValue.startsWith("separator")){t=String(t);let r=this._maskService.currentLocaleDecimalMarker();Array.isArray(this._maskService.decimalMarker)||(t=this._maskService.decimalMarker!==r?t.replace(r,this._maskService.decimalMarker):t),this._maskService.leadZero&&t&&this.maskExpression&&this.dropSpecialCharacters!==!1&&(t=this._maskService._checkPrecision(this._maskService.maskExpression,t)),(this.decimalMarker===","||Array.isArray(this._maskService.decimalMarker)&&this.thousandSeparator===".")&&(t=t.toString().replace(".",",")),this.maskExpression?.startsWith("separator")&&this.leadZero&&requestAnimationFrame(()=>{this._maskService.applyMask(t?.toString()??"",this._maskService.maskExpression)}),this._maskService.isNumberValue=!0}typeof t!="string"&&(t=""),this._inputValue=t,this._setMask(),t&&this._maskService.maskExpression||this._maskService.maskExpression&&(this._maskService.prefix||this._maskService.showMaskTyped)?(typeof this.inputTransformFn!="function"&&(this._maskService.writingValue=!0),this._maskService.formElementProperty=["value",this._maskService.applyMask(t,this._maskService.maskExpression)],typeof this.inputTransformFn!="function"&&(this._maskService.writingValue=!1)):this._maskService.formElementProperty=["value",t],this._inputValue=t}else console.warn("Ngx-mask writeValue work with string | number, your current value:",typeof e)})}registerOnChange(e){this._maskService.onChange=this.onChange=e}registerOnTouched(e){this.onTouch=e}_getActiveElement(e=this.document){let t=e?.activeElement?.shadowRoot;return t?.activeElement?this._getActiveElement(t):e.activeElement}checkSelectionOnDeletion(e){e.selectionStart=Math.min(Math.max(this.prefix.length,e.selectionStart),this._inputValue.length-this.suffix.length),e.selectionEnd=Math.min(Math.max(this.prefix.length,e.selectionEnd),this._inputValue.length-this.suffix.length)}setDisabledState(e){this._maskService.formElementProperty=["disabled",e]}_applyMask(){this._maskService.maskExpression=this._maskService._repeatPatternSymbols(this._maskValue||""),this._maskService.formElementProperty=["value",this._maskService.applyMask(this._inputValue,this._maskService.maskExpression)]}_validateTime(e){let t=this._maskValue.split("").filter(r=>r!==":").length;return e&&(+(e[e.length-1]??-1)==0&&e.length<t||e.length<=t-2)?this._createValidationError(e):null}_getActualInputLength(){return this._maskService.actualValue.length||this._maskService.actualValue.length+this._maskService.prefix.length}_createValidationError(e){return{mask:{requiredMask:this._maskValue,actualValue:e}}}_setMask(){this._maskExpressionArray.some(e=>{if(e.split("").some(r=>this._maskService.specialCharacters.includes(r))&&this._inputValue&&this._areAllCharactersInEachStringSame(this._maskExpressionArray)||e.includes("{")){let r=this._maskService.removeMask(this._inputValue)?.length<=this._maskService.removeMask(e)?.length;if(r)return this._maskValue=this.maskExpression=this._maskService.maskExpression=e.includes("{")?this._maskService._repeatPatternSymbols(e):e,r;{this._code==="Backspace"&&(this._allowFewMaskChangeMask=!0);let a=this._maskExpressionArray[this._maskExpressionArray.length-1]??"";this._maskValue=this.maskExpression=this._maskService.maskExpression=a.includes("{")?this._maskService._repeatPatternSymbols(a):a}}else{let r=this._maskService.removeMask(this._inputValue)?.split("").every((a,l)=>{let f=e.charAt(l);return this._maskService._checkSymbolMask(a,f)});if(r||this._justPasted)return this._maskValue=this.maskExpression=this._maskService.maskExpression=e,r}})}_areAllCharactersInEachStringSame(e){let t=this._maskService.specialCharacters;function r(l){let f=new RegExp(`[${t.map(o=>`\\${o}`).join("")}]`,"g");return l.replace(f,"")}return e.map(r).every(l=>new Set(l).size===1)}};i.\u0275fac=function(t){return new(t||i)},i.\u0275dir=B({type:i,selectors:[["input","mask",""],["textarea","mask",""]],hostBindings:function(t,r){t&1&&F("paste",function(){return r.onPaste()})("focus",function(l){return r.onFocus(l)})("ngModelChange",function(l){return r.onModelChange(l)})("input",function(l){return r.onInput(l)})("compositionstart",function(l){return r.onCompositionStart(l)})("compositionend",function(l){return r.onCompositionEnd(l)})("blur",function(l){return r.onBlur(l)})("click",function(l){return r.onClick(l)})("keydown",function(l){return r.onKeyDown(l)})},inputs:{maskExpression:[0,"mask","maskExpression"],specialCharacters:"specialCharacters",patterns:"patterns",prefix:"prefix",suffix:"suffix",thousandSeparator:"thousandSeparator",decimalMarker:"decimalMarker",dropSpecialCharacters:"dropSpecialCharacters",hiddenInput:"hiddenInput",showMaskTyped:"showMaskTyped",placeHolderCharacter:"placeHolderCharacter",shownMaskExpression:"shownMaskExpression",showTemplate:"showTemplate",clearIfNotMatch:"clearIfNotMatch",validation:"validation",separatorLimit:"separatorLimit",allowNegativeNumbers:"allowNegativeNumbers",leadZeroDateTime:"leadZeroDateTime",leadZero:"leadZero",triggerOnMaskChange:"triggerOnMaskChange",apm:"apm",inputTransformFn:"inputTransformFn",outputTransformFn:"outputTransformFn",keepCharacterPositions:"keepCharacterPositions"},outputs:{maskFilled:"maskFilled"},exportAs:["mask","ngxMask"],standalone:!0,features:[me([{provide:Oe,useExisting:i,multi:!0},{provide:Ye,useExisting:i,multi:!0},Re]),xe]});let s=i;return s})(),Jt=(()=>{let i=class i{constructor(){this.defaultOptions=w(ke),this._maskService=w(Re),this._maskExpressionArray=[],this.mask=""}transform(e,t,l={}){var f=l,{patterns:r}=f,a=tt(f,["patterns"]);let o=b(v(v({maskExpression:t},this.defaultOptions),a),{patterns:v(v({},this._maskService.patterns),r)});if(Object.entries(o).forEach(([h,c])=>{this._maskService[h]=c}),t.includes("||"))return t.split("||").length>1?(this._maskExpressionArray=t.split("||").sort((h,c)=>h.length-c.length),this._setMask(e),this._maskService.applyMask(`${e}`,this.mask)):(this._maskExpressionArray=[],this._maskService.applyMask(`${e}`,this.mask));if(t.includes("{"))return this._maskService.applyMask(`${e}`,this._maskService._repeatPatternSymbols(t));if(t.startsWith("separator")){a.decimalMarker&&(this._maskService.decimalMarker=a.decimalMarker),a.thousandSeparator&&(this._maskService.thousandSeparator=a.thousandSeparator),a.leadZero&&(this._maskService.leadZero=a.leadZero),e=String(e);let h=this._maskService.currentLocaleDecimalMarker();Array.isArray(this._maskService.decimalMarker)||(e=this._maskService.decimalMarker!==h?e.replace(h,this._maskService.decimalMarker):e),this._maskService.leadZero&&e&&this._maskService.dropSpecialCharacters!==!1&&(e=this._maskService._checkPrecision(t,e)),this._maskService.decimalMarker===","&&(e=e.toString().replace(".",",")),this._maskService.isNumberValue=!0}return e==null?this._maskService.applyMask("",t):this._maskService.applyMask(`${e}`,t)}_setMask(e){this._maskExpressionArray.length>0&&this._maskExpressionArray.some(t=>{let r=this._maskService.removeMask(e)?.length<=this._maskService.removeMask(t)?.length;if(e&&r)return this.mask=t,r;{let a=this._maskExpressionArray[this._maskExpressionArray.length-1]??"";this.mask=a}})}};i.\u0275fac=function(t){return new(t||i)},i.\u0275pipe=lt({name:"mask",type:i,pure:!0,standalone:!0});let s=i;return s})();function Gi(s,i){if(s&1){let n=dt();p(0,"tr",13),F("click",function(){let t=ht(n).$implicit,r=ft();return ct(r.setActivePassageiro(t))}),p(1,"th",14),m(2),d(),p(3,"td"),m(4),d(),p(5,"td"),m(6),re(7,"mask"),d()()}if(s&2){let n=i.$implicit,e=i.index;C(2),G(e+1),C(2),G(n.name),C(2),G(Le(7,3,n.cpf,"000.000.000-00"))}}function Li(s,i){if(s&1&&(p(0,"div")(1,"p")(2,"strong"),m(3,"Nome:"),d(),m(4),d(),p(5,"p")(6,"strong"),m(7,"RG:"),d(),m(8),re(9,"mask"),d(),pe(10,"hr"),d()),s&2){let n=i.$implicit;C(4),Be(" ",n.name,""),C(4),Be(" ",Le(9,2,n.cpf,"000.000.000-00"),"")}}function Ui(s,i){s&1&&(p(0,"div")(1,"p"),m(2,"Nenhum passageiro selecionado."),d()())}var Qt=(()=>{class s{appService;passageiros=[];dadosFiltrados=[];selectedPassageiros=[];dadosReferencia=[];resultadosComparacao=[];resultadosTexto="";inputText="";constructor(n){this.appService=n}ngOnInit(){this.retrievePassageiros()}retrievePassageiros(){this.appService.getPassageiros().subscribe(n=>{this.passageiros=n},n=>{console.log(n)})}setActivePassageiro(n){let e=this.selectedPassageiros.indexOf(n);e===-1?(this.selectedPassageiros.push(n),this.dadosReferencia.push({nome:n.name,rg:this.extractRg(n)}),console.log(`Passageiro ${n.name} adicionado. RG: ${this.extractRg(n)}`)):(this.selectedPassageiros.splice(e,1),this.dadosReferencia=this.dadosReferencia.filter(t=>t.rg!==this.extractRg(n)),console.log(`Passageiro ${n.name} removido.`)),this.compararDados(),this.updateResultadosTexto()}extractRg(n){return n.cpf?n.cpf.replace(/[^0-9]/g,""):""}filtrarDados(){this.dadosFiltrados=this.filtrarDadosRegex(this.inputText),this.compararDados()}filtrarDadosRegex(n){let e=/([\w\s]+)\s+Adulto\s+R\.G\.\s+([\d.]+)\s+pr/g,t=[],r;for(;(r=e.exec(n))!==null;)t.push({nome:r[1].trim(),rg:r[2].replace(/\D/g,"")});return t}compararDados(){console.log("Dados Filtrados:",this.dadosFiltrados),console.log("Dados Refer\xEAncia:",this.dadosReferencia),this.resultadosComparacao=this.dadosReferencia.map(n=>{let e=this.dadosFiltrados.some(t=>t.nome===n.nome&&t.rg===n.rg);return b(v({},n),{presente:e})}),console.log("Resultados da Compara\xE7\xE3o:",this.resultadosComparacao)}updateResultadosTexto(){this.resultadosTexto=this.resultadosComparacao.map(n=>`${n.nome} - ${n.rg} - ${n.presente?"Presente":"Ausente"}`).join(`
`)}deleteSelectedPassageiros(){this.selectedPassageiros.forEach(n=>{this.appService.deletePassageiro(n.id).subscribe(e=>{console.log(`Passageiro ${n.name} exclu\xEDdo com sucesso.`),this.retrievePassageiros()},e=>{console.log(e)})}),this.selectedPassageiros=[]}static \u0275fac=function(e){return new(e||s)(S(Ve))};static \u0275cmp=j({type:s,selectors:[["app-show-pass"]],decls:34,vars:6,consts:[[1,"container1"],[1,"box"],[1,"mostrarPassageiros"],[1,"lin"],[1,"table","table-dark","table-striped"],["scope","col"],[3,"click",4,"ngFor","ngForOf"],[1,"btn","btn-danger",3,"click","disabled"],[1,"details-box"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"filter-box"],["id","inputText","rows","10","cols","50","placeholder","Cole os dados aqui...",3,"ngModelChange","ngModel"],[3,"click"],["scope","row"]],template:function(e,t){e&1&&(p(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4"),m(4,"Passageiros:"),d(),pe(5,"div",3),p(6,"table",4)(7,"thead")(8,"tr")(9,"th",5),m(10,"#"),d(),p(11,"th",5),m(12,"NOME"),d(),p(13,"th",5),m(14,"RG"),d()()(),p(15,"tbody"),fe(16,Gi,8,6,"tr",6),d()()(),p(17,"button",7),F("click",function(){return t.deleteSelectedPassageiros()}),m(18," Remover Todos Passageiros Selecionados "),d()(),p(19,"div",8)(20,"h4"),m(21,"Detalhes dos Passageiros Selecionados:"),d(),fe(22,Li,11,5,"div",9)(23,Ui,3,0,"div",10),d(),p(24,"div",11)(25,"h4"),m(26,"Filtrar Passageiros"),d(),p(27,"textarea",12),Y("ngModelChange",function(a){return X(t.inputText,a)||(t.inputText=a),a}),d(),p(28,"button",13),F("click",function(){return t.filtrarDados()}),m(29,"Filtrar"),d(),p(30,"h4"),m(31,"Resultados da Compara\xE7\xE3o"),d(),p(32,"pre"),m(33),d()()()),e&2&&(C(16),K("ngForOf",t.passageiros),C(),K("disabled",t.selectedPassageiros.length===0),C(5),K("ngForOf",t.selectedPassageiros),C(),K("ngIf",t.selectedPassageiros.length===0),C(4),J("ngModel",t.inputText),C(6),G(t.resultadosTexto))},dependencies:[_t,Ae,L,le,ee,Jt],styles:[".container1[_ngcontent-%COMP%]{width:100%;height:100vh;margin:0;padding:0;background:#111;position:fixed;display:flex;color:#fff}.box[_ngcontent-%COMP%]{margin-left:20px;margin-top:20px;margin-right:20px;width:45%;height:auto;background:#222;top:0%;left:0%;border-radius:15px}.btn[_ngcontent-%COMP%]{margin-left:7%}.name[_ngcontent-%COMP%], .cpf[_ngcontent-%COMP%]{width:45%}.list-group[_ngcontent-%COMP%]{display:flex;font-size:20px}.mostrarPassageiros[_ngcontent-%COMP%]{color:#fff}.lin[_ngcontent-%COMP%]{width:100%;height:1px;background:#fff}h4[_ngcontent-%COMP%]{text-align:center;font-size:25px;padding-top:5px;padding-bottom:5px;margin-bottom:0}li[_ngcontent-%COMP%]{list-style:none}.details-box[_ngcontent-%COMP%]{width:40%;height:auto;background:#111;color:#fff}.box-comp[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}"]})}return s})();function Wi(s,i){s&1&&(p(0,"div")(1,"p"),m(2,"Passageiro salvo com sucesso!"),d()())}var ei=(()=>{class s{appService;passageiro={id:0,name:"",cpf:""};submitted=!1;constructor(n){this.appService=n}savePassageiro(){if(!this.passageiro.name||!this.passageiro.cpf){alert("Por favor, preencha todos os campos.");return}this.appService.savePassageiro(this.passageiro).subscribe(n=>{console.log(n),this.submitted=!0},n=>{console.error("Erro ao salvar passageiro:",n)})}static \u0275fac=function(e){return new(e||s)(S(Ve))};static \u0275cmp=j({type:s,selectors:[["app-add-pass"]],decls:13,vars:3,consts:[[1,"container1"],[1,"box"],[1,"mb-3"],["for","nameInput",1,"form-label"],["type","text","id","nameInput","placeholder","Ex: Joao da Silva",1,"form-control",3,"ngModelChange","ngModel"],["for","cpfInput",1,"form-label"],["type","text","id","cpfInput","mask","000.000.000-00","placeholder","Ex: 000.000.000-00",1,"form-control",3,"ngModelChange","ngModel"],[1,"btn","btn-primary",3,"click"],[4,"ngIf"]],template:function(e,t){e&1&&(p(0,"div",0)(1,"div",1)(2,"div",2)(3,"label",3),m(4,"Name"),d(),p(5,"input",4),Y("ngModelChange",function(a){return X(t.passageiro.name,a)||(t.passageiro.name=a),a}),d()(),p(6,"div",2)(7,"label",5),m(8,"CPF"),d(),p(9,"input",6),Y("ngModelChange",function(a){return X(t.passageiro.cpf,a)||(t.passageiro.cpf=a),a}),d()(),p(10,"button",7),F("click",function(){return t.savePassageiro()}),m(11,"Salvar Passageiro"),d(),fe(12,Wi,3,0,"div",8),d()()),e&2&&(C(5),J("ngModel",t.passageiro.name),C(4),J("ngModel",t.passageiro.cpf),C(3),K("ngIf",t.submitted))},dependencies:[Ae,L,le,ee,Kt],styles:[".container1[_ngcontent-%COMP%]{background:#111;position:fixed;width:100%;height:100vh}.box[_ngcontent-%COMP%]{width:400px;color:#fff;font-weight:500;margin-left:20px;background:#222;padding:20px;border-radius:15px;margin-top:20px}input[_ngcontent-%COMP%]{background:transparent;border:solid 0px;border-bottom:1px solid white;border-radius:0}"]})}return s})();var ti=(()=>{class s{inputText="";dadosFiltrados=[];resultadosComparacao=[];dadosReferencia=[];filtrarDados(){this.dadosFiltrados=this.filtrarDadosRegex(this.inputText),this.compararDados()}filtrarDadosRegex(n){let e=/([\w\s]+)\s+Adulto\s+R\.G\.\s+(\d+)\s+pr/g,t=[],r;for(;(r=e.exec(n))!==null;)t.push({nome:r[1].trim(),rg:r[2]});return t}compararDados(){this.resultadosComparacao=this.dadosReferencia.map(n=>{let e=this.dadosFiltrados.some(t=>t.nome===n.nome&&t.rg===n.rg);return b(v({},n),{presente:e})})}static \u0275fac=function(e){return new(e||s)};static \u0275cmp=j({type:s,selectors:[["app-comp-pass"]],decls:15,vars:7,consts:[[1,"container1"],[1,"box"],["rows","10","cols","50","placeholder","Cole os dados aqui...",3,"ngModelChange","ngModel"],["id","filterButton",3,"click"]],template:function(e,t){e&1&&(p(0,"div",0)(1,"div",1)(2,"textarea",2),Y("ngModelChange",function(a){return X(t.inputText,a)||(t.inputText=a),a}),d(),p(3,"button",3),F("click",function(){return t.filtrarDados()}),m(4,"Filtrar"),d()(),p(5,"h3"),m(6,"Dados Filtrados:"),d(),p(7,"pre"),m(8),re(9,"json"),d(),p(10,"h3"),m(11,"Resultados da Compara\xE7\xE3o:"),d(),p(12,"pre"),m(13),re(14,"json"),d()()),e&2&&(C(2),J("ngModel",t.inputText),C(6),G(Ge(9,3,t.dadosFiltrados)),C(5),G(Ge(14,5,t.resultadosComparacao)))},dependencies:[L,le,ee,vt]})}return s})();var Zi=[{path:"",redirectTo:"app",pathMatch:"full"},{path:"app",component:Qt},{path:"add",component:ei},{path:"comp",component:ti}],ii=(()=>{class s{static \u0275fac=function(e){return new(e||s)};static \u0275mod=$({type:s});static \u0275inj=R({imports:[qe.forRoot(Zi),qe]})}return s})();var $e=(()=>{class s{title="angular";static \u0275fac=function(e){return new(e||s)};static \u0275cmp=j({type:s,selectors:[["app-root"]],decls:16,vars:0,consts:[[1,"containerComponent"],["href","app"],["href","add"],["href","comp"]],template:function(e,t){e&1&&(p(0,"div",0)(1,"nav")(2,"p"),m(3,"RCS"),p(4,"b"),m(5,"HUB"),d()(),p(6,"ul")(7,"a",1),m(8,"Show"),d(),m(9," | "),p(10,"a",2),m(11,"Add"),d(),m(12," | "),p(13,"a",3),m(14,"Comp"),d()()()(),pe(15,"router-outlet"))},dependencies:[Dt],styles:[".containerComponent[_ngcontent-%COMP%]{display:flex;background:#050505}nav[_ngcontent-%COMP%]{display:flex}p[_ngcontent-%COMP%]{color:#fff;font-weight:700;margin:20px}b[_ngcontent-%COMP%]{color:#8a2be2}ul[_ngcontent-%COMP%]{margin:20px}a[_ngcontent-%COMP%]{color:#fff;font-weight:500;letter-spacing:2px;margin-right:10px;margin-left:10px;text-decoration:none}a[_ngcontent-%COMP%]:hover{color:#8a2be2}"]})}return s})();var si=(()=>{class s{static \u0275fac=function(e){return new(e||s)};static \u0275mod=$({type:s,bootstrap:[$e]});static \u0275inj=R({providers:[bt(),Ct(kt()),zt()],imports:[Mt,ii,Ze,Ze,Wt,St]})}return s})();var qi=(()=>{class s{static \u0275fac=function(e){return new(e||s)};static \u0275mod=$({type:s,bootstrap:[$e]});static \u0275inj=R({imports:[si,xt]})}return s})();export{qi as a};
